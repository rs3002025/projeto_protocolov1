{% extends "base.html" %}

{% block title %}Consulta de Protocolo{% endblock %}

{% block content %}
<div class="content active" style="text-align: center; padding: 20px;">
    <h2>Consulta Pública de Protocolo</h2>

    {% if protocolo %}
        <div style="text-align: left; max-width: 600px; margin: 20px auto; padding: 20px; border: 1px solid #ddd; border-radius: 8px; background: #f9f9f9;">
            <p><strong>Número:</strong> {{ protocolo.numero }}</p>
            <p><strong>Requerente:</strong> {{ protocolo.nome }}</p>
            <p><strong>Tipo de Requerimento:</strong> {{ protocolo.tipo_requerimento }}</p>
            <p><strong>Data da Solicitação:</strong> {{ protocolo.data_solicitacao.strftime('%d/%m/%Y') if protocolo.data_solicitacao else 'N/A' }}</p>
            <hr style="margin: 15px 0;">
            <p><strong>Status Atual:</strong> <span style="font-weight: bold; color: #2e7d32;">{{ protocolo.status }}</span></p>
            <p><strong>Responsável Atual:</strong> {{ protocolo.responsavel }}</p>
            <hr style="margin: 15px 0;">
            <p style="font-size: 0.9em; color: #666;">Este protocolo pertence à entidade: {{ tenant.name }}</p>
        </div>
    {% else %}
        <div style="max-width: 600px; margin: 20px auto; padding: 20px; border: 1px solid #e74c3c; border-radius: 8px; background: #fbecec;">
            <h3 style="color: #c0392b;">Protocolo Não Encontrado</h3>
            <p>O número de protocolo que você tentou consultar não foi encontrado em nosso sistema ou os dados são inválidos.</p>
        </div>
    {% endif %}

    <a href="{{ url_for('main.login') }}">Voltar para a página de login</a>
</div>
{% endblock %}
